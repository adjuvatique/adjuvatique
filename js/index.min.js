function isMobile() {
    return /Mobi|Android/i.test(navigator.userAgent);
}

$(document).ready(function() {
    if (isMobile()) {
        $("html").addClass("mobile");
    } else {
        const sections = ["Home", "Projects", "Professions", "Education", "Internship", "Current Position", "Contact Me"];
        const sectionsCN = ["首页", "项目", "技能", "教育", "实习", "供职", "联系"];
        const isChinese = window.location.href.indexOf("cn.html") >= 0;

        $(".section").addClass("initing");
        $("#pagepiling").pagepiling({
            loopBottom: true,
            navigation: {
                position: "left",
                tooltips: isChinese ? sectionsCN : sections
            },
            onLeave: function(index, nextIndex, direction) {
                $(".section").each(function(i) {
                    $(this).toggleClass("leaving", i + 1 === nextIndex);
                });
            }
        });
        $(".initing").removeClass("initing");
    }
});
